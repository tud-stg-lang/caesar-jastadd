<testsuite name="Test Contracts between Family Classes" package="contracts.basic">

	<!-- *=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~=*=~~= -->
    <compile-run id="contracts001" description="test requires relation">
        <test>
            UserA a = new CompleteA();
            String result = a.n();
            assertEquals("A", result);
        </test>
        <code>
        	public abstract cclass IfcA {	
			   abstract String m();
			}
			public cclass ImplA extends IfcA {
			   String m() { return "A"; } 
			}
			public cclass UserA requires IfcA {
			   String n() { return m(); }
			}
			public cclass CompleteA extends UserA &amp; ImplA {	}
        </code>
    </compile-run>
	
    <compile-check-error id="contracts002" error="VAR_UNKNOWN" 
		                 description="test instantiation of incomplete class">		
        <code>
            public class Test {
               void test() {
                   UserA a = new UserA();
               }
            }            
			public abstract cclass IfcA {	
			   abstract String m();
			}
			public cclass UserA requires IfcA {
			   String n() { return m(); }
			}
        </code>
    </compile-check-error>
    
</testsuite>